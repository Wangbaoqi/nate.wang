<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    var findDuplicate = function(nums) {
      const n = nums.length;
      let l = 1, r = n - 1, ans = -1;
      while (l <= r) {
          let mid = (l + r) >> 1;
          let cnt = 0;
          for (let i = 0; i < n; ++i) {
              cnt += nums[i] <= mid;
          }
          if (cnt <= mid) {
              l = mid + 1;
          } else {
              r = mid - 1;
              ans = mid;
          }
      }
      return ans;
    };

    let res = findDuplicate([2,4,5,8,3,1,2,7])

  </script>
</body>
</html>